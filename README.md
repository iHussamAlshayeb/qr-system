# منصة إدارة الفعاليات والتذاكر الإلكترونية (QR Code)

هذا المشروع هو تطبيق ويب متكامل لإدارة تسجيل وحضور الفعاليات، تم بناؤه باستخدام Node.js و Express. يتيح النظام للمدراء إنشاء مناسبات متعددة، ولكل مناسبة فورم تسجيل مخصص، مع إصدار تذاكر إلكترونية فريدة على شكل QR Code تُستخدم لمرة واحدة فقط.



---
## ## المميزات الرئيسية ✨

### **للإدارة والتحكم:**
* **إدارة متعددة للمناسبات:** إنشاء عدد لا محدود من المناسبات، ولكل مناسبة إعداداتها الخاصة.
* **لوحة تحكم شاملة:** واجهة مركزية لعرض المناسبات، روابط التسجيل، وإدارة حالة كل مناسبة (نشط/غير نشط).
* **إحصائيات حية:** متابعة فورية لعدد المسجلين وعدد الحضور الفعلي لكل مناسبة.
* **فورم تسجيل ديناميكي:** القدرة على إضافة وحذف حقول مخصصة (نص، رقم، قائمة منسدلة) لكل مناسبة على حدة.
* **نظام صلاحيات آمن:**
    * **دور المدير (Admin):** يمتلك صلاحيات كاملة على النظام.
    * **دور الماسح الضوئي (Scanner):** صلاحية محدودة لمسح التذاكر والتحقق منها فقط.
* **عرض تفاصيل المسجلين:** إمكانية عرض جميع البيانات التي قدمها الزائر، بالإضافة إلى صورة الـ QR Code الخاصة به.
* **إدارة المستخدمين:** واجهة لإنشاء وحذف حسابات الموظفين (مدراء أو ماسحين ضوئيين) وتغيير كلمات المرور.

### **للزوار والموظفين:**
* **نظام تذاكر QR Code:** إصدار رمز QR فريد لكل شخص مسجل، يُستخدم لمرة واحدة فقط.
* **صفحات تحقق واضحة:** عند مسح الرمز، تظهر شاشة ملونة (أخضر للنجاح، أصفر للتكرار، أحمر للخطأ) للموظف.
* **تصميم احترافي ومتجاوب:** جميع الصفحات مصممة لتعمل بكفاءة على أجهزة الكمبيوتر والجوال باستخدام Tailwind CSS.
* **إشعارات تلقائية:** إمكانية إرسال التذاكر تلقائيًا إلى البريد الإلكتروني للمسجل.

---
## ## التقنيات المستخدمة 🛠️
* **الواجهة الخلفية (Backend):** Node.js, Express.js
* **قاعدة البيانات:** PostgreSQL (مُدارة عبر Render)
* **الواجهة الأمامية (Frontend):** HTML, Tailwind CSS, JavaScript (Fetch API)
* **المكتبات الرئيسية:**
    * `pg` للتواصل مع قاعدة البيانات.
    * `express-session` لإدارة جلسات المستخدمين.
    * `bcrypt` لتشفير كلمات المرور.
    * `qrcode` لإنشاء رموز QR.
    * `@sendgrid/mail` أو `resend` لإرسال الإيميلات.

---
## ## طريقة الإعداد والتشغيل المحلي 🚀

**المتطلبات:**
* [Node.js](https://nodejs.org/)
* قاعدة بيانات PostgreSQL

**خطوات الإعداد:**

1.  **نسخ المشروع:**
    ```bash
    git clone [رابط المستودع الخاص بك]
    cd [اسم المجلد]
    ```

2.  **تثبيت الحزم:**
    ```bash
    npm install
    ```

3.  **إعداد متغيرات البيئة:**
    * أنشئ ملفًا جديدًا في جذر المشروع باسم `.env`.
    * أضف متغير `DATABASE_URL` الخاص بقاعدة بيانات PostgreSQL المحلية أو السحابية.
        ```
        DATABASE_URL="postgresql://user:password@host:port/database"
        ```
    * أضف مفتاح API الخاص بخدمة البريد الإلكتروني (إذا كنت تستخدمها).
        ```
        RESEND_API_KEY="re_..."
        ```

4.  **تشغيل الخادم:**
    ```bash
    node server.js
    ```
    سيقوم الخادم بإنشاء الجداول اللازمة تلقائيًا عند بدء التشغيل لأول مرة.

5.  **الدخول إلى النظام:**
    * عند أول تشغيل، سيتم إنشاء حساب مدير افتراضي. تحقق من سجلات الخادم (console) لرؤية اسم المستخدم وكلمة المرور.
    * اذهب إلى `http://localhost:3000/login` لتسجيل الدخول.